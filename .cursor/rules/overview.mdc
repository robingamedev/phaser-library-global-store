---
description: 
globs: 
alwaysApply: true
---
---
id: global-store-overview
title: Global Store â€“ Overview
version: 0.2.2
category: phaser-plugin
status: active
---

## ğŸ” What It Does

This plugin uses a **module-level singleton** â€” simply import and use. No need to instantiate a class.

```ts
import globalStore from '@robingamedev/global-store';
```

The `global-store` plugin provides a **singleton, in-memory key-value store** for Phaser games. It allows developers to share, read, and write arbitrary data across scenes without relying on the Phaser Registry or custom globals.

Itâ€™s intentionally simple, but flexible enough to:

- Group keys by namespaces (e.g., `player.hp`, `scene.title.fadeOut`)
- Export/import state manually
- Hook into data changes via `onChange()` observers (see `usage.mdc`)

This plugin **does not persist data** on its own â€” but itâ€™s fully compatible with save systems, like `save-kit`.

> âš ï¸ This plugin is not a wrapper around Phaserâ€™s built-in Registry.  
> It offers a more modular, namespaced, and testable alternative â€” designed for clean cross-scene data management.

> ğŸ¯ Unlike Redux, this plugin does not require reducers, actions, or immutable state.  
> It favors simplicity, dot-path access, and Phaser-style flexibility.

> ğŸ“˜ See `usage.mdc` for a full method reference and `set/get/onChange` examples.

---

## ğŸ§± Use Cases

- Store player status (`player.hp`, `inventory.coins`)
- Track scene progression (`scene.intro.shown`)
- Bridge data between scenes (`battle.options.escapeAllowed`)
- Use alongside other plugins without global coupling

---

## ğŸŒ Compatibility

This plugin targets modern ESM-based browsers. It works in:

- âœ… Chromium-based browsers (Chrome, Edge)
- âœ… Firefox
- âœ… Safari
- âœ… Any ESM-compatible game build (Webpack, Vite, etc.)

It does not include legacy UMD builds or support for Internet Explorer.

> âš ï¸ **Performance Note:** The store handles thousands of keys just fine, but you should avoid dumping giant level blueprints, full animation trees, or scene-local objects into it.

---

## ğŸ¯ Design Goals

- ğŸ§  **Simple**: One import, one singleton, one pattern
- ğŸ§± **No Phaser dependency**: Can be used in other JS/TS contexts
- ğŸ›  **Developer-owned structure**: You decide how to organize your keys
- ğŸ”„ **Optional reactivity**: Use `onChange()` if needed
- ğŸ§© **TypeScript-native**: All public methods and `onChange()` signatures are typed. Works in both TS and JS.
- âš ï¸ **Configurable strictness**: Developers can enable `strictMode` to throw on invalid keys or allow silent fails for production safety.

---

## ğŸš« Advanced Suggestions (Rejected for MVP)

| Suggestion | Verdict |
|-----------|---------|
| âœ… **Custom Key Validators** | Worth considering in `configure()` for v1.1+ |
| âŒ **Optional Deep Equality** | Too complex / slow â€” donâ€™t add it |
| âœ… **Scene Helper for Listener Cleanup** | Already planned â€” Phase 3 utility |
| âœ… **TS Usage Example** | Scheduled in Phase 3 |
| âŒ **Migration Guide (Redux/Registry)** | Not worth building |
| âœ… **Performance Note** | Included above and in `usage.mdc`
```

